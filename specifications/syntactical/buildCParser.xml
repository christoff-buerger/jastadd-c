<!-- Ant build script to generate JastAddC's parser source code.
     
     @author C. BÃ¼rger
-->

<!-- Targets for working from Eclipse:
       gen			- generates the parser java source code
       cleanGen		- removes all generated files
-->

<project name="JastAddC_CParser" default="gen">
	<path id="_basedir">
		<pathelement location="./../.."/>
	</path>
	<property name="_basedir" refid="_basedir"/>
	
	<target name="gen" description="generate parser">
		<taskdef
			name="beaver"
			classname="beaver.comp.run.AntTask"
			classpath="${_basedir}/sources/libraries/beaver.jar"
		/>
		<property name="beaver.available" value="yes"/>
		<beaver file             = "CParser.beaver"
	            destdir          = "${_basedir}/implementation"
	            compress         = "yes"
	            exportTables     = "no"
	            sortTerminals    = "no"
	            terminalNames    = "yes"
	            exportTerminals  = "no"
	            useSwitch        = "no"
	            anonymousActions = "yes"
	            reportActions    = "no"
		/>
	</target>
	
	<target name="cleanGen">
		<delete>
			<fileset
				dir="${_basedir}/implementation/jastaddc/syntax/syntacticalanalyse"
				includes="CParser.java"
			/>
		</delete>
	</target>
</project>
